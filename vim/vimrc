" encoding setting
" encoding setting for vim system
set encoding=utf-8
" encoding setting for current buffer
set fileencoding=utf-8
" encoding setting for all buffer
set fileencodings=utf-8
" encoding setting for vim script
scriptencoding utf-8

" viとの互換性をとらない
set nocompatible
" 文字の色づけ ... onだと現状の設定を破棄する。詳しくは:h :syntax-on
syntax enable
""########## tips {{{
" ##### shortcut comment
" <c-h> ... backspace <c-m> ... Enter
" <c-i> ... tab <c-j> ... Down

" ##### useful command
" :set          ... Show all options that differ from their default value.
" :set all      ... Show all but terminal options.
" :set termcap  ... Show all terminal options.
" :map          ... Show all mapping settings.
" :highlight    ... Show all highlight settings.
" :command       ... Show all user commands.

" ##### spell check
" information; :h spell or https://vim-jp.org/vimdoc-ja/spell.html
" on; :setlocal spell spelllang=en_us
" search;
" 次を検索 ]s or ]S
" 前を検索 [s or [S
" (カーソル下を)正しい(good)単語として登録      zg or :spe[llgood] {word}
" (カーソル下を)間違った(wrong)単語として登録   zw or :spellw[rong] {word}
" (カーソル下の?)単語を一覧から削除             zuw / zug / :spellu[ndo] {word}

" ##### other topics
" about command args... <f-args>=string, <args>=value
" about equation operator ...  (sorry for Japanese)
"   ==#, !=#, ># etc..    ：大文字小文字を区別する
"   ==?, !=?, >? etc..    ：大文字小文字を区別しない
"   =~, =~#, =~?          ：正規表現マッチ
"   !~, !~#, !~?          ：正規表現非マッチ
" 正規表現については :h pattern-overview or https://vim-jp.org/vimdoc-ja/pattern.html#pattern-overview
" about SID
" :scriptnames          ... List all sourced script names
" :echo expand('<SID>') ... Get the current file SID

" about <Cmd>
" mapping でcmd modeに移るときは : よりも <Cmd> の方が良さそう
" :h map-cmd
" 使用できるのは ver. 8.2 && patch-1978 以降

"" }}}
if exists('$VIM_TERMINAL')
    echoerr 'Warning!! vim is already opened!!'
endif

try
    let s:vimdir = llib#get_conf_dir()
endtry

function! s:load_file(filename) abort
    if exists('s:vimdir') && filereadable(s:vimdir..a:filename)
        execute 'source '..s:vimdir..a:filename
        return 1
    endif
    return 0
endfunction

" local settings before source vimrcs
call s:load_file('rcdir/vimrc_mine.pre')
" option settings
call s:load_file('rcdir/vimrc_options.vim')
" map(key) settings
call s:load_file('rcdir/vimrc_maps.vim')
" simple commands and short functions
call s:load_file('rcdir/vimrc_commands.vim')
" auto command settings
call s:load_file('rcdir/vimrc_autocmds.vim')
" status line setting
call s:load_file('rcdir/vimrc_statusline.vim')
" tab line setting
call s:load_file('rcdir/vimrc_tabline.vim')
" (almost) self-made functions
call s:load_file('rcdir/vimrc_plugin.vim')
" vim dein (plugin manager) setting
call s:load_file('rcdir/vimrc_dein.vim')
" color settings
if !s:load_file('rcdir/vimrc_color.vim')
    " In case vim don't read vimrc_color.vim
    colorscheme evening
    highlight Normal ctermbg=8 guibg=Black
endif
" local settings after source vimrcs
call s:load_file('rcdir/vimrc_mine.post')

